<!--  # Type of Authorization Requests 
 
The proof generation by the wallet SDK is based on two types of authorization requests that it sends to the Verifier:
 
- Based on `Basic Auth` Requests
- Based on `Query` Requests
 
## Basic Auth Request
 
The wallet SDK sends the `Basic Auth` request when it needs to prove its identity (based on the Identifier generated earlier) to the Verifier. This request is sent when an Identity needs to prove that it is, indeed, the Identity that it says about itself.
 
### Structure of Basic Auth Request
 
The structure of a `Basic Auth` request can be seen below:
 
```json
 
{
 "id": "6c004daa-b664-4c1a-8393-66ef6755a07b",
 "thid": "6c004daa-b664-4c1a-8393-66ef6755a07b",
 "from": "1125GJqgw6YEsKFwj63GY87MMxPL9kwDKxPUiwMLNZ",
 "typ": "application/iden3comm-plain-json",
 "type": "https://iden3-communication.io/authorization/1.0/request",
 "body": {
   "reason": "test flow",
   "message": "",
   "callbackUrl": "https://verifier.polygonid.me/api/callback?sessionId=95209",
   "scope":
 }
}
 
```
**Note**: The details of each of the fields of the request can be seen in the section below on Query Request.
 
## Query-based Request
 
A Query-Based Request is used for generating two types of proofs: Signature-based Proof and Merkle Tree Proof (MTP). For such proofs, we have a claim that satisfies pre-determined criteria (as can be seen from the structure of the Query-based Request below) and these claims are used for generating the proofs and shared with the Verifier using `callbackUrl`.
 
 
### Structure of Query-based Request
 
 
```json
 
{
 "id": "b5d9edf2-adcf-4600-b273-1f6f32da87ee",
 "thid": "b5d9edf2-adcf-4600-b273-1f6f32da87ee",
 "from": "1125GJqgw6YEsKFwj63GY87MMxPL9kwDKxPUiwMLNZ",
 "typ": "application/iden3comm-plain-json",
 "type": "https://iden3-communication.io/authorization/1.0/request",
 "body": {
   "reason": "test flow",
   "message": "",
   "callbackUrl": "https://verifier.polygonid.me/api/callback?sessionId=932469",
   "scope": {
     "0": {
       "id": "1",
       "circuit_id": "credentialAtomicQuerySig",
       "rules": {
         "query": {
           "allowedIssuers":
               "0": "*",
           "schema": {
               "type": "KYCAgeCredential",
               "url": "https://raw.githubusercontent.com/iden3/claim-schema-vocab/main/schemas/json-ld/kyc-v2.json-ld"
           },
           "req": {
               "birthday": {
                   "$lt": "20000101"
             }
           }
         }
       }
     }
   }
 }
}
 
```
where:
 
- **id**: Identifier stored on the wallet SDK
- **thid**: Id of the message thread
- **from**: from where the authentication request comes, i.e. the identifier of the identity from which a Verifier requests proof
- **typ**: iden3comm Media Type, i.e. File format for the type field. (For example, JSON)
- **type**: Type of iden3comm Protocol Message; type of request; it could be an auth request, proof request, or a claim offer
- **reason**: reason of authentication (it could be age verification or simply a test flow)
- **message**: Message to be signed; can be left blank
- **callbackUrl**: URL to which requested information is sent and response is received
- **scope**: information related to the proof request and the requirements to be fulfilled by the proof generated and shared from mobile. It is in the form of an array of proofs that the SDK generates.
- **0**:
- **id**: Scope id
- **circuit_id**: Type of proof; in the above example, it is credentialAtomicQuerySig.
- **rules**:
- **query**:
- **allowedissuers**: types of Issuers allowed
- **0: "*"** : All types of Issuers are allowed
- **schema**: A structure that is used for proof generation for a claim
- **type**: Type of credentials allowed
- **url**: url for getting the vocabulary for the credential
- **req**: A query request to a query circuit; for example, the user's birthday should fall before January 1, 2000
 
 
## Difference Between `Basic Auth` and `Query-based` Requests
 
The difference between the proofs based on `Basic Auth` and `Query-based` requests is that the `Basic Auth` is used by an identity for authenticating itself (as was mentioned above) and the `Query-based` is used for authenticating the claims that the Identity receives from an Issuer.
 
The fundamental structure of the request types is the same except that the `Query-based request` carries more parameters: in the form of more information linked to the proof generated by the wallet SDK; it includes information such as type of credentials allowed, URL for getting vocabulary for those credential and requirements that a claim must satisfy (ex, the birth date should be more than 18)

 
## Auth Circuit and AtomicQuerySig Circuit
 
A circuit is zero-knowledge based program that generates a zk proof based on a set of inputs provided. An `Auth Circuit` creates a proof for the `Basic Auth` requests and `AtomicQuerySig Circuit` generates proof for signature-based requests `AtomicQueryMTP` is used for the MTP-based requests.
 
For more information on circuits, go through the following links:
 
 
[auth circom](https://github.com/iden3/circuits/blob/master/circuits/auth.circom)
 
[credentialAtomicQuerySig](https://github.com/iden3/circuits/blob/master/circuits/credentialAtomicQuerySig.circom)
 
[circomcredentialAtomicQueryMTP](https://github.com/iden3/circuits/blob/master/circuits/credentialAtomicQueryMTP.circom)
 
 
**Note**: Read more about `Basic Auth Request` [here](https://0xpolygonid.github.io/tutorials/verifier/verification-library/request-api-guide/#basic-auth).
 
**Note**: Read more about `Query-based Request` [here](https://0xpolygonid.github.io/tutorials/verifier/verification-library/request-api-guide/#query-based-auth).
 
## How is Proof sent to the Verifier?
 
The wallet sends the proof generated to a Verifier using a `callbackUrl`; this URL is included in the auth request and includes the information that the Verifier requests from the Wallet. So, the Wallet sends the proof request along with the claim via this `callbackUrl` and receives the proof response from the Verifier on the same URL.
-->