# Smart Contracts

[**Polygon ID Smart Contracts - Github**](https://github.com/0xPolygonID/contracts/?target=_blank)

<a href="https://github.com/0xPolygonID/contracts" target="_blank">**Polygon ID Smart Contracts - Github**</a>

[**Polygon ID Smart Contracts - Github**](https://github.com/0xPolygonID/contracts?to=/placeholder.com)

### CredentialAtomicQuerySigValidator

[**CredentialAtomicQuerySigValidator.sol - Github**](https://github.com/0xPolygonID/contracts/blob/main/contracts/validators/CredentialAtomicQuerySigValidator.sol)

The CredentialAtomicQuerySigValidator contract is used verify any claim-related zk proof generated by user using the [`credentialAtomicQuerySig`](https://docs.iden3.io/protocol/main-circuits/#credentialatomicquerymtp) circuit. The core of the contract is its [`verify`](https://github.com/0xPolygonID/contracts/blob/main/contracts/validators/CredentialAtomicQuerySigValidator.sol#L52) function that takes the proof generated by a user and executes a set of verification:

- Verifies that the actually proof if valid. This verification is actually performed inside the [`verifierSig`](https://github.com/0xPolygonID/contracts/blob/main/contracts/verifiers/circuits/verifierSig.sol) contract which is automatically generated using circom
- Verifies that the input used to generate the proof matches the query associated to that specific Request
- Verifies that user's and issuer's identity states are valid based on the State Contract

> The CredentialAtomicQuerySigValidator executes the same set of verifications of the [Verification Library](../verifier/verification-library/verification-api-guide.md#verification---under-the-hood). The former is required when performing on-chain verification while the latter is required for off-chain verification.

CredentialAtomicQuerySigValidator address:

- [Mumbai: 0xb1e86C4c687B85520eF4fd2a0d14e81970a15aFB](https://mumbai.polygonscan.com/address/0xb1e86C4c687B85520eF4fd2a0d14e81970a15aFB)

> Further protocol related contracts can found at [Iden3 - Smart Contracts](https://docs.iden3.io/contracts/state/)
